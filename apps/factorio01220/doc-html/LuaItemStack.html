<!DOCTYPE html><html lang="en"><head ><title >LuaItemStack</title><meta charset="UTF-8"/><link rel="stylesheet" type="text/css" href="lua-doc.css"/></head><body ><div class="navigation-bar"><span class="navigation"><a href="index.html">Factorio</a> &raquo; <a href="Classes.html">Classes</a> &raquo; LuaItemStack</span><span class="version">Factorio 0.12.20</span></div><h1 >LuaItemStack</h1><div class="brief-listing"><div class="brief-listing">class <span class="type-name">LuaItemStack</span><table class="brief-members"><tr ><td class="header"><span class="element-name"><a href="LuaItemStack.html#is_blueprint_setup">is_blueprint_setup</a>() &rarr; <span class="return-type"><span class="param-type"><a href="Builtin-Types.html#boolean">boolean</a></span></span></span></td><td class="description"> Is this blueprint item setup?</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaItemStack.html#get_blueprint_entities">get_blueprint_entities</a>() &rarr; <span class="return-type"><span class="param-type">array of <span class="param-type">blueprint entity</span></span></span></span></td><td class="description"> Entities in this blueprint.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaItemStack.html#set_blueprint_entities">set_blueprint_entities</a>(entities)</span></td><td class="description"> Set new entities to be a part of this blueprint.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaItemStack.html#add_ammo">add_ammo</a>(amount)</span></td><td class="description"> Add ammo to this ammo item.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaItemStack.html#drain_ammo">drain_ammo</a>(amount)</span></td><td class="description"> Remove ammo from this ammo item.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaItemStack.html#can_set_stack">can_set_stack</a>(stack) &rarr; <span class="return-type"><span class="param-type"><a href="Builtin-Types.html#boolean">boolean</a></span></span></span></td><td class="description"> Would a call to <a href="LuaItemStack.html#set_stack">LuaItemStack::set_stack</a> succeed?</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaItemStack.html#set_stack">set_stack</a>(stack) &rarr; <span class="return-type"><span class="param-type"><a href="Builtin-Types.html#boolean">boolean</a></span></span></span></td><td class="description"> Set this item stack to another item stack.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaItemStack.html#clear">clear</a>()</span></td><td class="description"> Clear this item stack.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaItemStack.html#get_blueprint_tiles">get_blueprint_tiles</a>() &rarr; <span class="return-type"><span class="param-type">array of <span class="param-type">blueprint tile</span></span></span></span></td><td class="description"> Tiles in this blueprint
 
 </td></tr><tr ><td class="header"><span class="element-name"><a href="LuaItemStack.html#set_blueprint_tiles">set_blueprint_tiles</a>(tiles)</span></td><td class="description"> Set tiles in this blueprint
 
 </td></tr><tr ><td class="header"><span class="element-name"><a href="LuaItemStack.html#valid_for_read">valid_for_read</a></span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#boolean">boolean</a></span></span><span class="attribute-mode"> [R]</span></td><td class="description">  Is this valid for reading?</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaItemStack.html#prototype">prototype</a></span><span class="attribute-type"> :: <span class="param-type"><a href="LuaItemPrototype.html">LuaItemPrototype</a></span></span><span class="attribute-mode"> [R]</span></td><td class="description">  Prototype of the item held in this stack.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaItemStack.html#name">name</a></span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#string">string</a></span></span><span class="attribute-mode"> [R]</span></td><td class="description">  Prototype name of the item held in this stack.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaItemStack.html#type">type</a></span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#string">string</a></span></span><span class="attribute-mode"> [R]</span></td><td class="description">  Type of the item prototype.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaItemStack.html#count">count</a></span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span></span><span class="attribute-mode"> [RW]</span></td><td class="description">  Number of items in this stack.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaItemStack.html#has_grid">has_grid</a></span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#boolean">boolean</a></span></span><span class="attribute-mode"> [R]</span></td><td class="description">  <code >true</code> if this item has an equipment grid.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaItemStack.html#grid">grid</a></span><span class="attribute-type"> :: <span class="param-type"><a href="LuaEquipmentGrid.html">LuaEquipmentGrid</a></span></span><span class="attribute-mode"> [R]</span></td><td class="description">  The equipment grid of this item.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaItemStack.html#health">health</a></span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#float">float</a></span></span><span class="attribute-mode"> [RW]</span></td><td class="description">  How much health the item has, as a number in range [0, 1].</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaItemStack.html#durability">durability</a></span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span></span><span class="attribute-mode"> [RW]</span></td><td class="description">  Durability of the contained item.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaItemStack.html#ammo">ammo</a></span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span></span><span class="attribute-mode"> [RW]</span></td><td class="description">  Number of bullets left in the magazine.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaItemStack.html#blueprint_icons">blueprint_icons</a></span><span class="attribute-type"> :: <span class="param-type">array of <span class="param-type">Icon</span></span></span><span class="attribute-mode"> [RW]</span></td><td class="description"> 
 Icons of a blueprint item.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaItemStack.html#cost_to_build">cost_to_build</a></span><span class="attribute-type"> :: <span class="param-type">dictionary <span class="param-type"><a href="Builtin-Types.html#string">string</a></span> &rarr; <span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span></span></span><span class="attribute-mode"> [R]</span></td><td class="description"> 
 Raw materials required to build this blueprint.</td></tr></table></div></div><div class="element" id="LuaItemStack"><p > An item and a count.
</p><div class="element" id="is_blueprint_setup"><div class="element-header"><span class="element-name">is_blueprint_setup() &rarr; <span class="return-type"><span class="param-type"><a href="Builtin-Types.html#boolean">boolean</a></span></span></span></div><div class="element-content"><p > Is this blueprint item setup? I.e. is it a non-empty blueprint?

 </p></div></div>
<div class="element" id="get_blueprint_entities"><div class="element-header"><span class="element-name">get_blueprint_entities() &rarr; <span class="return-type"><span class="param-type">array of <span class="param-type">blueprint entity</span></span></span></span></div><div class="element-content"><p > Entities in this blueprint.

  </p><div class="detail"><div class="detail-header">Return value</div><div class="detail-content"> The fields of an entity table depend on the type of the entity. Every
   entity has at least the following fields: <ul class="field-list"><li ><span class="param-name">entity_number</span> :: <span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span>:  Entity's unique identifier in this blueprint</li><li ><span class="param-name">name</span> :: <span class="param-type"><a href="Builtin-Types.html#string">string</a></span>:  Prototype name of the entity</li><li ><span class="param-name">position</span> :: <span class="param-type"><a href="Concepts.html#Position">Position</a></span>:  Position of the entity</li><li ><span class="param-name">direction</span> :: <span class="param-type"><a href="defines.html#direction">defines.direction</a></span> <span class="opt"> (optional)</span>:  The direction the entity is facing. Only present for entities
       that can face in different directions.</li><li ><span class="param-name">other</span>:  Entity-specific fields...</li></ul></div></div><div class="detail"><em >Can only be used if this is BlueprintItem</em></div></div></div>
<div class="element" id="set_blueprint_entities"><div class="element-header"><span class="element-name">set_blueprint_entities(entities)</span></div><div class="element-content"><p > Set new entities to be a part of this blueprint.

 
 </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">entities</span> :: <span class="param-type">array of <span class="param-type">blueprint entity</span></span>:  New blueprint entities. The format is the same as in
   <a href="LuaItemStack.html#get_blueprint_entities">LuaItemStack::get_blueprint_entities</a>.</div></div></div><div class="detail"><em >Can only be used if this is BlueprintItem</em></div></div></div>
<div class="element" id="add_ammo"><div class="element-header"><span class="element-name">add_ammo(amount)</span></div><div class="element-content"><p > Add ammo to this ammo item.

  </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">amount</span> :: <span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span>:  Amount of ammo to add.</div></div></div><div class="detail"><em >Can only be used if this is AmmoItem</em></div></div></div>
<div class="element" id="drain_ammo"><div class="element-header"><span class="element-name">drain_ammo(amount)</span></div><div class="element-content"><p > Remove ammo from this ammo item.

  </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">amount</span> :: <span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span>:  Amount of ammo to remove.</div></div></div><div class="detail"><em >Can only be used if this is AmmoItem</em></div></div></div>
<div class="element" id="can_set_stack"><div class="element-header"><span class="element-name">can_set_stack(stack) &rarr; <span class="return-type"><span class="param-type"><a href="Builtin-Types.html#boolean">boolean</a></span></span></span></div><div class="element-content"><p > Would a call to <a href="LuaItemStack.html#set_stack">LuaItemStack::set_stack</a> succeed?

  </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">stack</span> :: <span class="param-type"><span class="param-type"><a href="LuaItemStack.html">LuaItemStack</a></span> or <span class="param-type"><a href="Concepts.html#SimpleItemStack">SimpleItemStack</a></span></span> <span class="opt"> (optional)</span>:  Stack that would be set, possibly <code >nil</code>.</div></div></div></div></div>
<div class="element" id="set_stack"><div class="element-header"><span class="element-name">set_stack(stack) &rarr; <span class="return-type"><span class="param-type"><a href="Builtin-Types.html#boolean">boolean</a></span></span></span></div><div class="element-content"><p > Set this item stack to another item stack.

  </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">stack</span> :: <span class="param-type"><span class="param-type"><a href="LuaItemStack.html">LuaItemStack</a></span> or <span class="param-type"><a href="Concepts.html#SimpleItemStack">SimpleItemStack</a></span></span> <span class="opt"> (optional)</span>: 
   Item stack to set this one to. Omitting this parameter or passing <code >nil</code> will clear this item stack, as
   if by calling <a href="LuaItemStack.html#clear">LuaItemStack::clear</a>.</div></div></div><div class="detail"><div class="detail-header">Return value</div><div class="detail-content"> Was the stack set successfully?</div></div></div></div>
<div class="element" id="clear"><div class="element-header"><span class="element-name">clear()</span></div><div class="element-content"><p > Clear this item stack.
</p></div></div>
<div class="element" id="get_blueprint_tiles"><div class="element-header"><span class="element-name">get_blueprint_tiles() &rarr; <span class="return-type"><span class="param-type">array of <span class="param-type">blueprint tile</span></span></span></span></div><div class="element-content"><p > Tiles in this blueprint
 
 </p><div class="detail"><div class="detail-header">Return value</div><div class="detail-content"> A blueprint tile is a table: <ul class="field-list"><li ><span class="param-name">position</span> :: <span class="param-type"><a href="Concepts.html#Position">Position</a></span></li><li ><span class="param-name">name</span> :: <span class="param-type"><a href="Builtin-Types.html#string">string</a></span>:  Prototype name of the tile.</li></ul></div></div><div class="detail"><em >Can only be used if this is BlueprintItem</em></div></div></div>
<div class="element" id="set_blueprint_tiles"><div class="element-header"><span class="element-name">set_blueprint_tiles(tiles)</span></div><div class="element-content"><p > Set tiles in this blueprint
 
 </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">tiles</span> :: <span class="param-type">array of <span class="param-type">blueprint tile</span></span>:  Tiles to be a part of the blueprint; the format is the same as is
   returned from the corresponding get function; see <a href="LuaItemStack.html#get_blueprint_tiles">LuaItemStack::get_blueprint_tiles</a>.</div></div></div><div class="detail"><em >Can only be used if this is BlueprintItem</em></div></div></div><div class="element" id="valid_for_read"><div class="element-header"><span class="element-name">valid_for_read</span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#boolean">boolean</a></span></span><span class="attribute-mode"> [Read-only]</span></div><div class="element-content"><p >  Is this valid for reading? Differs from the usual <code >valid</code> in that <code >valid</code> will be <code >true</code> even if
 the item stack is blank but the entity that holds it is still valid.
</p></div></div>
<div class="element" id="prototype"><div class="element-header"><span class="element-name">prototype</span><span class="attribute-type"> :: <span class="param-type"><a href="LuaItemPrototype.html">LuaItemPrototype</a></span></span><span class="attribute-mode"> [Read-only]</span></div><div class="element-content"><p >  Prototype of the item held in this stack.
</p></div></div>
<div class="element" id="name"><div class="element-header"><span class="element-name">name</span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#string">string</a></span></span><span class="attribute-mode"> [Read-only]</span></div><div class="element-content"><p >  Prototype name of the item held in this stack.
</p></div></div>
<div class="element" id="type"><div class="element-header"><span class="element-name">type</span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#string">string</a></span></span><span class="attribute-mode"> [Read-only]</span></div><div class="element-content"><p >  Type of the item prototype.
</p></div></div>
<div class="element" id="count"><div class="element-header"><span class="element-name">count</span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span></span><span class="attribute-mode"> [Read-Write]</span></div><div class="element-content"><p >  Number of items in this stack.
</p></div></div>
<div class="element" id="has_grid"><div class="element-header"><span class="element-name">has_grid</span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#boolean">boolean</a></span></span><span class="attribute-mode"> [Read-only]</span></div><div class="element-content"><p >  <code >true</code> if this item has an equipment grid.
</p></div></div>
<div class="element" id="grid"><div class="element-header"><span class="element-name">grid</span><span class="attribute-type"> :: <span class="param-type"><a href="LuaEquipmentGrid.html">LuaEquipmentGrid</a></span></span><span class="attribute-mode"> [Read-only]</span></div><div class="element-content"><p >  The equipment grid of this item.
 </p><div class="notes"><div class="note"><strong >Note: </strong> Only useable when <code >has_grid</code> is <code >true</code>.</div></div></div></div>
<div class="element" id="health"><div class="element-header"><span class="element-name">health</span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#float">float</a></span></span><span class="attribute-mode"> [Read-Write]</span></div><div class="element-content"><p >  How much health the item has, as a number in range [0, 1].
</p></div></div>
<div class="element" id="durability"><div class="element-header"><span class="element-name">durability</span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span></span><span class="attribute-mode"> [Read-Write]</span></div><div class="element-content"><p >  Durability of the contained item. Automatically capped at the item's maximum durability.
 </p><div class="notes"><div class="note"><strong >Note: </strong> When used on a non-tool item, the value of this attribute is <code >nil</code>.</div></div></div></div>
<div class="element" id="ammo"><div class="element-header"><span class="element-name">ammo</span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span></span><span class="attribute-mode"> [Read-Write]</span></div><div class="element-content"><p >  Number of bullets left in the magazine.
 </p><div class="detail"><em >Can only be used if this is AmmoItem</em></div></div></div>
<div class="element" id="blueprint_icons"><div class="element-header"><span class="element-name">blueprint_icons</span><span class="attribute-type"> :: <span class="param-type">array of <span class="param-type">Icon</span></span></span><span class="attribute-mode"> [Read-Write]</span></div><div class="element-content"><p > 
 Icons of a blueprint item. Every entry of this array has the following fields: <ul class="field-list"><li ><span class="param-name">name</span> :: <span class="param-type"><a href="Builtin-Types.html#string">string</a></span>:  Prototype name of the item whose icon to use</li><li ><span class="param-name">index</span> :: <span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span>:  Index of the icon in the blueprint icons slots. Has to be in {1, 2, 3, 4}.</li></ul>

 </p><div class="detail"><em >Can only be used if this is BlueprintItem</em></div></div></div>
<div class="element" id="cost_to_build"><div class="element-header"><span class="element-name">cost_to_build</span><span class="attribute-type"> :: <span class="param-type">dictionary <span class="param-type"><a href="Builtin-Types.html#string">string</a></span> &rarr; <span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span></span></span><span class="attribute-mode"> [Read-only]</span></div><div class="element-content"><p > 
 Raw materials required to build this blueprint. Result is a dictionary mapping each item prototype name
 to the required count.

 </p><div class="detail"><em >Can only be used if this is BlueprintItem</em></div></div></div></div></body></html>